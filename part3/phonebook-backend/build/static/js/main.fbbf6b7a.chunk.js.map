{"version":3,"sources":["Components/Filter.js","Components/EntryForm.js","Components/Person.js","Components/Message.js","Services/phone.js","App.js","reportWebVitals.js","index.js"],"names":["Filter","filter","handleFilter","value","onChange","EntryForm","handleSubmit","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Person","name","number","id","handleDelete","onClick","Message","message","messageStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginottom","startsWith","style","baseURL","phonebookService","addPerson","newObject","axios","post","then","response","data","getPeople","get","res","deletePerson","delete","updatePerson","put","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","setMessage","useEffect","people","personsCopy","person","toLowerCase","includes","window","confirm","e","target","preventDefault","map","existingEntry","find","updatedEntry","returnedPerson","setTimeout","catch","err","console","log","entry","concat","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fbbf6b7a.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({ filter, handleFilter }) => (\r\n  <form>\r\n    <div>\r\n      Filter: <input\r\n        value={filter}\r\n        onChange={handleFilter}\r\n              />\r\n    </div>\r\n  </form>\r\n);\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nconst EntryForm = ({ handleSubmit, newName, handleNameChange, newNumber, handleNumberChange }) => (\r\n  <form onSubmit={handleSubmit}>\r\n    <div>\r\n      name: <input\r\n        value={newName}\r\n        onChange={handleNameChange}\r\n      />\r\n    </div>\r\n    <div>\r\n      number: <input\r\n        value={newNumber}\r\n        onChange={handleNumberChange}\r\n      />\r\n    </div>\r\n    <div>\r\n      <button type='submit'>add</button>\r\n    </div>\r\n  </form>\r\n);\r\n\r\nexport default EntryForm;\r\n","import React from 'react';\r\n\r\nconst Person = ({ name, number, id, handleDelete }) => (\r\n  <li>{name}: {number} <button onClick={() => handleDelete(id, name)}>Delete</button></li>\r\n);\r\n\r\nexport default Person;\r\n","const Message = ({ message }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n\r\n  let messageStyle = {\r\n    color: 'green',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginottom: 10\r\n  };\r\n\r\n  if (message.startsWith('Error')) {\r\n    messageStyle = {\r\n      ...messageStyle,\r\n      color: 'red'\r\n    };\r\n  }\r\n\r\n  return (\r\n    <div style={messageStyle}>\r\n      {message}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message\r\n;\r\n","import axios from 'axios';\r\nconst baseURL = '/api/persons/';\r\n\r\nconst getPeople = () => (\r\n  axios\r\n    .get(baseURL)\r\n    .then(res => res.data)\r\n);\r\n\r\nconst addPerson = newObject => (\r\n  axios\r\n    .post(baseURL, newObject)\r\n    .then(response => response.data)\r\n);\r\n\r\nconst updatePerson = (id, newObject) => (\r\n  axios\r\n    .put(`${baseURL}/${id}`, newObject)\r\n    .then(response => response.data)\r\n);\r\n\r\nconst deletePerson = (id) => (\r\n  axios\r\n    .delete(`${baseURL}/${id}`)\r\n);\r\n\r\nconst phonebookService = { addPerson, getPeople, deletePerson, updatePerson };\r\nexport default phonebookService\r\n;\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nimport Filter from './Components/Filter';\r\nimport EntryForm from './Components/EntryForm';\r\nimport Person from './Components/Person';\r\nimport Message from './Components/Message';\r\n\r\nimport phonebookService from './Services/phone';\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState('');\r\n  const [newNumber, setNewNumber] = useState('');\r\n  const [filter, setFilter] = useState('');\r\n  const [message, setMessage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    phonebookService\r\n      .getPeople()\r\n      .then(people => {\r\n        setPersons(people);\r\n      });\r\n  },\r\n  []);\r\n\r\n  const personsCopy = filter\r\n    ? persons.filter(person => person.name.toLowerCase().includes(`${filter.toLowerCase()}`))\r\n    : persons;\r\n\r\n  const handleNameChange = (e) => {\r\n    setNewName(e.target.value);\r\n  };\r\n\r\n  const handleNumberChange = (e) => {\r\n    setNewNumber(e.target.value);\r\n  };\r\n\r\n  const handleFilter = (e) => {\r\n    setFilter(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (persons.map(person => person.name.toLowerCase()).includes(newName.toLowerCase())) {\r\n      const existingEntry = persons.find(person => person.name.toLowerCase() === newName.toLowerCase());\r\n\r\n      if (existingEntry.number !== newNumber) {\r\n        const updatedEntry = {\r\n          ...existingEntry,\r\n          number: newNumber\r\n        };\r\n\r\n        phonebookService\r\n          .updatePerson(existingEntry.id, updatedEntry)\r\n          .then(returnedPerson => {\r\n            setPersons(persons.map(person => person.id !== existingEntry.id ? person : returnedPerson));\r\n            setMessage(`Updated ${returnedPerson.name} successfully`);\r\n            setTimeout(() => {\r\n              setMessage(null);\r\n            }, 5000);\r\n            setNewName('');\r\n            setNewNumber('');\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n            setPersons(persons.filter(person => person.id !== existingEntry.id));\r\n            setMessage(`Error: ${existingEntry.name} no longer exists in database`);\r\n            setTimeout(() => {\r\n              setMessage(null);\r\n            }, 5000);\r\n          });\r\n      } else {\r\n        setMessage(`Error: ${newName} is already added to phonebook`);\r\n      }\r\n    } else {\r\n      const entry = {\r\n        name: newName,\r\n        number: newNumber\r\n      };\r\n\r\n      phonebookService\r\n        .addPerson(entry)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson));\r\n          setMessage(`Added ${returnedPerson.name} successfully`);\r\n          setTimeout(() => {\r\n            setMessage(null);\r\n          }, 5000);\r\n          setNewName('');\r\n          setNewNumber('');\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleDelete = (id, name) => {\r\n    if (window.confirm(`Are you sure you want to delete ${name}?`)) {\r\n      phonebookService\r\n        .deletePerson(id)\r\n        .then(() => {\r\n          setPersons(persons.filter(person => person.id !== id));\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n\r\n      <Filter\r\n        filter={filter}\r\n        handleFilter={handleFilter}\r\n      />\r\n\r\n      <h2>Phonebook</h2>\r\n\r\n      <EntryForm\r\n        handleSubmit={handleSubmit}\r\n        newName={newName}\r\n        handleNameChange={handleNameChange}\r\n        newNumber={newNumber}\r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n\r\n      <h2>Numbers</h2>\r\n\r\n      <Message\r\n        message={message}\r\n      />\r\n\r\n      <ul>\r\n        {personsCopy.map(person => (\r\n          <Person\r\n            key={person.name}\r\n            name={person.name}\r\n            number={person.number}\r\n            id={person.id}\r\n            handleDelete={handleDelete}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App\r\n;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}